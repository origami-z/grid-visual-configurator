var z=Object.defineProperty,Q=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var J=(e,t,i)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,u=(e,t)=>{for(var i in t||(t={}))ee.call(t,i)&&J(e,i,t[i]);if(j)for(var i of j(t))te.call(t,i)&&J(e,i,t[i]);return e},p=(e,t)=>Q(e,Z(t));import{r as D,j as n,S as U,a as l,I as re,M as E,B as v,D as I,b as oe,A as ne,T as ie,R as ae,c as ce,d as se,e as le}from"./vendor.3e168673.js";const de=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function i(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerpolicy&&(o.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?o.credentials="include":c.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(c){if(c.ep)return;c.ep=!0;const o=i(c);fetch(c.href,o)}};de();const X=D.exports.createContext([]),{Option:ue}=U,y="Grid.Field",V={type:y,param:{field:""}},me=e=>{var c,o;const t=D.exports.useContext(X),i=(c=e.param)==null?void 0:c.field,a=t.length===0?n("input",{value:(o=e.param)==null?void 0:o.field,onChange:r=>{var s;return(s=e.onParamChange)==null?void 0:s.call(e,{field:r.currentTarget.value})}}):n(U,{value:i||void 0,onChange:r=>{var s;return(s=e.onParamChange)==null?void 0:s.call(e,{field:r})},showSearch:!0,style:{width:100},placeholder:"Search",children:t.map(r=>n(ue,{value:r,children:r},r))});return n("div",{children:l("label",{children:["Field",a]})})},b="Grid.ValueFormatter.DivideByThousand",pe=()=>n("div",{children:"Divide by 1e3"}),x="Grid.ValueFormatter.FixedDecimalPlaces",fe=e=>{var t;return n("div",{children:l("label",{children:["Decimal Places",n(re,{value:(t=e.param)==null?void 0:t.dp,onChange:i=>{var a;return(a=e.onParamChange)==null?void 0:a.call(e,{dp:i})}})]})})},_="Grid.ValueFormatter.SuffixBy",De=e=>{var t;return n("div",{children:l("label",{children:["Suffix",n("input",{value:(t=e.param)==null?void 0:t.suffix,onChange:i=>{var a;return(a=e.onParamChange)==null?void 0:a.call(e,{suffix:i.currentTarget.value})}})]})})},G={[b]:{defaultKey:{type:b},editor:pe},[x]:{defaultKey:{type:x,param:{dp:2}},editor:fe},[_]:{defaultKey:{type:_,param:{suffix:" k"}},editor:De}},M="Grid.ValueFormatter.",he=Object.keys(G).map(e=>e.replace(M,"")),g="Grid.ValueFormatter",ve={type:g,param:{formatterDescriptors:[]}},ye=({param:e={formatterDescriptors:[]},onParamChange:t})=>{const a=n(E,{onClick:o=>{const r=M+o.key;t==null||t({formatterDescriptors:[...e.formatterDescriptors,G[r].defaultKey]})},children:he.map(o=>n(E.Item,{disabled:e.formatterDescriptors.some(r=>r.type===M+o),children:o},o))}),c=e.formatterDescriptors.map(o=>{const r=o.type,s=d=>{t==null||t({formatterDescriptors:e.formatterDescriptors.map(f=>f.type===r?p(u({},f),{param:d}):f)})};return l("div",{className:"GridEditor-FormatterRenderer",children:[n(v,{"aria-label":"remove formatter",icon:"x",onClick:()=>t==null?void 0:t({formatterDescriptors:e.formatterDescriptors.filter(d=>d.type!==r)})}),D.exports.createElement(G[r].editor,{param:o.param,onParamChange:s})]},r)});return l("div",{children:[l("div",{children:["Value Formatter",n(I,{overlay:a,children:n(v,{icon:"+"})})]}),c]})};const w="Grid.HeaderName",Ee={type:w,param:{headerName:"Custom"}},Te=e=>{var t;return n("div",{children:l("label",{children:["Header",n("input",{value:(t=e.param)==null?void 0:t.headerName,onChange:i=>{var a;return(a=e.onParamChange)==null?void 0:a.call(e,{headerName:i.currentTarget.value})}})]})})},O="Grid.Sortable",Ce={type:O,param:{sortable:!0}},Re=e=>{var t;return n("div",{children:l("label",{children:["Sortable",n(oe,{checked:(t=e.param)==null?void 0:t.sortable,onChange:i=>{var a;return(a=e.onParamChange)==null?void 0:a.call(e,{sortable:i})}})]})})},L="Grid.CellStyler.BoldFont",Fe={type:L},Ne=()=>n("div",{children:"Bold Font"}),B="Grid.CellStyler.TextColor",be={type:B,param:{color:"#ff0000"}},xe=e=>{var t;return n("div",{children:l("label",{children:["Text Color",n("input",{type:"color",value:(t=e.param)==null?void 0:t.color,onChange:i=>{var a;return(a=e.onParamChange)==null?void 0:a.call(e,{color:i.currentTarget.value})}})]})})},Y="Grid.CellStyler",k="Grid.CellStyler.",P={[L]:{defaultDescriptor:Fe,editor:Ne},[B]:{defaultDescriptor:be,editor:xe}},_e=Object.keys(P).map(e=>e.replace(k,"")),ge={type:Y,param:{stylerDescriptors:[]}},we=({param:e={stylerDescriptors:[]},onParamChange:t})=>{const a=n(E,{onClick:o=>{const r=k+o.key;t==null||t({stylerDescriptors:[...e.stylerDescriptors,P[r].defaultDescriptor]})},children:_e.map(o=>n(E.Item,{disabled:e.stylerDescriptors.some(r=>r.type===k+o),children:o},o))}),c=e.stylerDescriptors.map(o=>{const r=o.type,s=d=>{t==null||t({stylerDescriptors:e.stylerDescriptors.map(f=>f.type===r?p(u({},f),{param:d}):f)})};return l("div",{className:"GridEditor-CellStylerRenderer",children:[n(v,{"aria-label":"remove styler",icon:"x",onClick:()=>t==null?void 0:t({stylerDescriptors:e.stylerDescriptors.filter(d=>d.type!==r)})}),D.exports.createElement(P[r].editor,{param:o.param,onParamChange:s})]},r)});return l("div",{children:[l("div",{children:["Cell Styler",n(I,{overlay:a,children:n(v,{icon:"+"})})]}),c]})},$={[y]:{defaultDescriptor:V,editor:me},[g]:{defaultDescriptor:ve,editor:ye},[Y]:{defaultDescriptor:ge,editor:we},[w]:{defaultDescriptor:Ee,editor:Te},[O]:{defaultDescriptor:Ce,editor:Re}},Oe=({colDescriptors:e,setColDescriptors:t,dataFields:i})=>{const a=()=>{t(r=>[...r,[V]])},c=r=>{t(s=>{const d=s.slice();return d.splice(r,1),d})},o=e.map((r,s)=>{const f=n(E,{onClick:m=>{const h=m.key;t(C=>C.map((T,A)=>A===s&&!T.some(K=>K.type===h)?[...T,$[h].defaultDescriptor]:T))},children:Object.keys($).map(m=>n(E.Item,{disabled:r.some(h=>h.type===m),children:m},m))});return l("div",{className:"ColDescriptorEditor-Column",children:[l("div",{className:"ColDescriptorEditor-ColumnHeader",children:[l("div",{children:["Column ",s+1]}),n(v,{icon:"x",onClick:()=>c(s)})]}),r.map((m,h)=>{const C=`column-${s}-editor-${h}`,T=S=>{t(R=>R.map((F,N)=>N===s?F.map((H,W)=>W===h?p(u({},H),{param:S}):H):F))},A=D.exports.createElement($[m.type].editor,{key:C,param:m.param,onParamChange:T});return l("div",{className:"ColDescriptorEditor-ColumnRow",children:[n(v,{icon:"x",onClick:()=>{t(S=>S.map((R,F)=>{if(F===s){const N=R.slice();return N.splice(h,1),N}else return R}))},"aria-label":"remove composer"})," ",A]},`${C}-container`)}),n(I,{overlay:f,children:n(v,{children:"Add +"})})]},s)});return n(X.Provider,{value:i,children:l("div",{children:[n(v,{onClick:a,children:"New Column"}),n("div",{className:"ColDescriptorEditor-Columns",children:o})]})})};const Ae=[{make:"Toyota",model:"Celica",price:35e3},{make:"Ford",model:"Mondeo",price:32e3},{make:"Porsche",model:"Boxter",price:72e3}],Se=e=>{const[t,i]=D.exports.useState('[{"make":"Toyota","model":"Celica","price":35000},{"make":"Ford","model":"Mondeo","price":32000},{"make":"Porsche","model":"Boxter","price":72000}]'),[a,c]=D.exports.useState(Ae);return D.exports.useEffect(()=>{var r;(r=e.onDataChanged)==null||r.call(e,a)},[]),l("label",{className:"DataInput",children:["Input data JSON ",a===null?"ERROR":"OK",n("br",{}),n("textarea",{value:t,onChange:r=>{var d,f;const s=r.currentTarget.value;i(s);try{const m=JSON.parse(s);c(m),(d=e.onDataChanged)==null||d.call(e,m)}catch(m){console.error(m),c(null),(f=e.onDataChanged)==null||f.call(e,null)}},className:"DataInput-textarea"})]})};const Ie=(e,t)=>p(u({},e),{field:t.field}),Ge=e=>t=>Number.parseFloat(t).toFixed(e.dp),Me=()=>e=>Number.parseFloat(e)/1e3,Le=e=>t=>t.toString()+e.suffix,Be={[b]:{converter:Me},[x]:{converter:Ge},[_]:{converter:Le}},Ye=(e,{formatterDescriptors:t})=>{const i=a=>{let c=a;for(let o=0;o<t.length;o++){const r=t[o].type;c=Be[r].converter(t[o].param)(c)}return c};return p(u({},e),{valueFormatter:a=>i(a.value)})},ke=()=>({fontWeight:"bold"}),Pe=e=>({color:e.color}),$e={[L]:{converter:ke},[B]:{converter:Pe}},Ke=(e,{stylerDescriptors:t})=>{const i=()=>{let a={};for(let c=0;c<t.length;c++){const o=t[c].type,r=$e[o].converter(t[c].param);a=u(u({},a),r)}return a};return p(u({},e),{cellStyle:i()})},He=(e,t)=>p(u({},e),{headerName:t.headerName}),je=(e,t)=>p(u({},e),{sortable:t.sortable}),Je={[y]:{composer:Ie},[g]:{composer:Ye},[Y]:{composer:Ke},[w]:{composer:He},[O]:{composer:je}},Ue=e=>{var i;const t=(i=e.colDescriptors)==null?void 0:i.map((a,c)=>a.reduce((o,r)=>{const s=Je[r.type];return s?s.composer(o,r.param):(console.warn("AG Grid unimplemented composer type",r.type),o)},{}));return n("div",{className:"ag-theme-alpine",style:{flex:1},children:n(ne,{columnDefs:t,rowData:e.rowData,reactUi:!0})})},Xe=e=>t=>Number.parseFloat(t).toFixed(e.dp),Ve=()=>e=>Number.parseFloat(e)/1e3,qe=e=>t=>t.toString()+e.suffix,We={[b]:{converter:Ve},[x]:{converter:Xe},[_]:{converter:qe}},ze=(e,t)=>p(u({},e),{title:t.field,dataIndex:t.field}),Qe=(e,{formatterDescriptors:t})=>{const i=a=>{let c=a;for(let o=0;o<t.length;o++){const r=t[o].type;c=We[r].converter(t[o].param)(c)}return c};return p(u({},e),{render:a=>i(a)})},Ze=(e,t)=>p(u({},e),{title:t.headerName}),et=(e,t)=>(console.warn("Unsupported sortable"),e),tt={[y]:{composer:ze},[g]:{composer:Qe},[w]:{composer:Ze},[O]:{composer:et}},rt=e=>{var i;const t=(i=e.colDescriptors)==null?void 0:i.map((a,c)=>a.reduce((o,r)=>{const s=tt[r.type];return s?s.composer(o,r.param):(console.warn("Antd unimplemented composer type",r.type),o)},{}));return n("div",{style:{flex:1},children:n(ie,{columns:t,dataSource:(e.rowData||[]).map((a,c)=>p(u({},a),{key:c}))})})},ot=[[{type:y,param:{field:"make"}}],[{type:y,param:{field:"model"}}],[{type:y,param:{field:"price"}}]],q=["ag-grid","antd table"],nt=e=>{const t=new Set;return e.forEach(i=>{Object.keys(i).forEach(a=>t.add(a))}),Array.from(t)};function it(){const[e,t]=D.exports.useState([]),[i,a]=D.exports.useState(ot),[c,o]=D.exports.useState(q[0]),r=D.exports.useMemo(()=>nt(e||[]),[e]);return l("div",{className:"App",children:[l("div",{className:"LeftColumn",children:[n("div",{className:"LeftColumn-TopPanel",children:n(Oe,{colDescriptors:i,setColDescriptors:a,dataFields:r})}),n("div",{className:"LeftColumn-BottomPanel",children:n(Se,{onDataChanged:t})})]}),l("div",{className:"RightColumn",children:[n("div",{className:"RightColumn-TopPanel",children:c==="ag-grid"?n(Ue,{rowData:e,colDescriptors:i}):n(rt,{rowData:e,colDescriptors:i})}),l("div",{className:"RightColumn-BottomPanel",children:[n("label",{htmlFor:"grid-preview-radio-group-id",children:"Grid preview: "}),n(ae.Group,{id:"grid-preview-radio-group-id",options:q,onChange:d=>o(d.target.value),value:c}),n("div",{children:"Debug Column Descriptors"}),n(ce,{src:i})]})]})]})}se.render(n(le.StrictMode,{children:n(it,{})}),document.getElementById("root"));
