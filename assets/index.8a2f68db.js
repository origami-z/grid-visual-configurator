var G=Object.defineProperty,V=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var A=(e,t,r)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,C=(e,t)=>{for(var r in t||(t={}))Y.call(t,r)&&A(e,r,t[r]);if(P)for(var r of P(t))j.call(t,r)&&A(e,r,t[r]);return e},D=(e,t)=>V(e,L(t));import{j as a,a as f,r as m,M as T,B as N,D as S,A as U,R as $,b as J}from"./vendor.45a64714.js";const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))h(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&h(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function h(l){if(l.ep)return;l.ep=!0;const i=r(l);fetch(l.href,i)}};X();const y="Grid.Field",q=(e,t)=>D(C({},e),{field:t}),E="Grid.ValueFormatter",z=(e,t)=>D(C({},e),{valueFormatter:r=>t(r.value)}),_={[y]:q,[E]:z},I="Grid.ValueFormatter.DivideByThousand",H=()=>e=>Number.parseFloat(e)/1e3,Q=()=>a("div",{children:"Divide by 1e3"}),M="Grid.ValueFormatter.FixedDecimalPlaces",W=e=>t=>Number.parseFloat(t).toFixed(e.dp),Z=e=>a("div",{children:f("label",{children:["Decimal Places",a("input",{value:e.dp,type:"number",onChange:t=>{var r;return(r=e.onChange)==null?void 0:r.call(e,{dp:Number.parseInt(t.currentTarget.value)})}})]})}),k="Grid.ValueFormatter.SuffixByK",ee=e=>t=>t.toString()+e.suffix,te=e=>a("div",{children:f("label",{children:["Suffix",a("input",{value:e.suffix,onChange:t=>{var r;return(r=e.onChange)==null?void 0:r.call(e,{suffix:t.currentTarget.value})}})]})}),R={[I]:{defaultKey:{type:I},editor:Q,converter:H},[M]:{defaultKey:{type:M,params:{dp:2}},editor:Z,converter:W},[k]:{defaultKey:{type:k,params:{suffix:"k"}},editor:te,converter:ee}},b="Grid.ValueFormatter.",re=Object.keys(R).map(e=>e.replace(b,""));const ae={type:y,field:""},ne=e=>a("div",{children:f("label",{children:["Field",a("input",{value:e.field,onChange:t=>{var r;return(r=e.onFieldChange)==null?void 0:r.call(e,t.currentTarget.value)}})]})}),oe={type:E,formatter:e=>e},le=e=>{const[t,r]=m.exports.useState([]),l=a(T,{onClick:c=>{const s=b+c.key;r(o=>[...o,R[s].defaultKey])},children:re.map(c=>a(T.Item,{disabled:t.some(s=>s.type===b+c),children:c},c))});m.exports.useEffect(()=>{var s;const c=o=>{let n=o;for(let d=0;d<t.length;d++){const u=t[d].type;n=R[u].converter(t[d].params)(n)}return n};(s=e.onFormatterChange)==null||s.call(e,c)},[t]);const i=t.map(c=>{const s=c.type,o=n=>{r(d=>d.map(u=>u.type===s?D(C({},u),{params:n}):u))};return f("div",{className:"GridEditor-FormatterRenderer",children:[a(N,{onClick:()=>r(n=>n.filter(d=>d.type!==s)),children:"X"}),m.exports.createElement(R[s].editor,D(C({},c.params),{onChange:o}))]},s)});return f("div",{children:[f("div",{children:["Value Formatter",a(S,{overlay:l,children:a(N,{children:"+"})})]}),i]})},B={[y]:ne,[E]:le},ie=[[{type:y,field:"make"}],[{type:y,field:"model"}],[{type:y,field:"price"}]],ce=e=>{const[t,r]=m.exports.useState(ie);m.exports.useEffect(()=>{var i;const l=t.map((c,s)=>{let o={};return c.map(n=>{switch(n.type){case y:o=_[n.type](o,n.field);break;case E:o=_[n.type](o,n.formatter);break}}),o});(i=e.onColDefsChange)==null||i.call(e,l)},[t]);const h=t.map((l,i)=>{const s=a(T,{onClick:o=>{const n=o.key;switch(n){case y:r(d=>d.map((u,v)=>v===i&&!u.some(F=>F.type===n)?[...u,ae]:u));break;case E:r(d=>d.map((u,v)=>v===i&&!u.some(F=>F.type===n)?[...u,oe]:u));break;default:console.warn("Unrecognized composer type",n)}},children:Object.keys(_).map(o=>a(T.Item,{disabled:l.some(n=>n.type===o),children:o},o))});return f("div",{children:[f("div",{children:["Column ",i+1]}),l.map((o,n)=>{const d=`column-${i}-editor-${n}`;switch(o.type){case y:const u=F=>{r(x=>x.map((g,p)=>{if(p===i){const w=[...g];return w[n].field=F,w}else return g}))};return m.exports.createElement(B[o.type],D(C({},o),{key:d,onFieldChange:u}));case E:const v=F=>{r(x=>x.map((g,p)=>p===i?g.map((O,K)=>K===n?D(C({},O),{formatter:F}):O):g))};return m.exports.createElement(B[o.type],D(C({},o),{key:d,onFormatterChange:v}));default:return null}}),a(S,{overlay:s,children:a(N,{children:"Add +"})})]},i)});return a("div",{className:"ColDefEditor",children:h})};const de=[{make:"Toyota",model:"Celica",price:35e3},{make:"Ford",model:"Mondeo",price:32e3},{make:"Porsche",model:"Boxter",price:72e3}],se=e=>{const[t,r]=m.exports.useState('[{"make":"Toyota","model":"Celica","price":35000},{"make":"Ford","model":"Mondeo","price":32000},{"make":"Porsche","model":"Boxter","price":72000}]'),[h,l]=m.exports.useState(de);return m.exports.useEffect(()=>{var c;(c=e.onDataChanged)==null||c.call(e,h)},[]),f("label",{className:"DataInput",children:["Input data JSON ",h===null?"ERROR":"OK",a("br",{}),a("textarea",{value:t,onChange:c=>{var o,n;const s=c.currentTarget.value;r(s);try{const d=JSON.parse(s);l(d),(o=e.onDataChanged)==null||o.call(e,d)}catch(d){console.error(d),l(null),(n=e.onDataChanged)==null||n.call(e,null)}},className:"DataInput-textarea"})]})};const ue=e=>a("div",{className:"ag-theme-alpine",style:{height:400,width:600},children:a(U,{columnDefs:e.columnDefs,rowData:e.rowData,reactUi:!0})});function me(){const[e,t]=m.exports.useState([]),[r,h]=m.exports.useState([]);return f("div",{className:"App",children:[f("div",{className:"LeftColumn",children:[a("div",{className:"LeftColumn-TopPanel",children:a(ce,{onColDefsChange:h})}),a("div",{className:"LeftColumn-BottomPanel",children:a(se,{onDataChanged:t})})]}),a("div",{className:"RightColumn",children:a(ue,{rowData:e,columnDefs:r})})]})}$.render(a(J.StrictMode,{children:a(me,{})}),document.getElementById("root"));
