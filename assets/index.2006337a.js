var K=Object.defineProperty,H=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var M=(e,t,o)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,m=(e,t)=>{for(var o in t||(t={}))J.call(t,o)&&M(e,o,t[o]);if(P)for(var o of P(t))U.call(t,o)&&M(e,o,t[o]);return e},f=(e,t)=>H(e,j(t));import{j as a,a as l,I as X,M as C,B as D,r as h,D as G,S as q,A as V,T as z,R as Q,b as W,c as Z}from"./vendor.0fa18c28.js";const ee=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}};ee();const v="Grid.Field",B={type:v,param:{field:""}},te=e=>{var t;return a("div",{children:l("label",{children:["Field",a("input",{value:(t=e.param)==null?void 0:t.field,onChange:o=>{var n;return(n=e.onParamChange)==null?void 0:n.call(e,{field:o.currentTarget.value})}})]})})},T="Grid.ValueFormatter.DivideByThousand",re=()=>a("div",{children:"Divide by 1e3"}),N="Grid.ValueFormatter.FixedDecimalPlaces",oe=e=>{var t;return a("div",{children:l("label",{children:["Decimal Places",a(X,{value:(t=e.param)==null?void 0:t.dp,onChange:o=>{var n;return(n=e.onParamChange)==null?void 0:n.call(e,{dp:o})}})]})})},R="Grid.ValueFormatter.SuffixBy",ae=e=>{var t;return a("div",{children:l("label",{children:["Suffix",a("input",{value:(t=e.param)==null?void 0:t.suffix,onChange:o=>{var n;return(n=e.onParamChange)==null?void 0:n.call(e,{suffix:o.currentTarget.value})}})]})})},_={[T]:{defaultKey:{type:T},editor:re},[N]:{defaultKey:{type:N,param:{dp:2}},editor:oe},[R]:{defaultKey:{type:R,param:{suffix:" k"}},editor:ae}},w="Grid.ValueFormatter.",ne=Object.keys(_).map(e=>e.replace(w,"")),g="Grid.ValueFormatter",ie={type:g,param:{formatterDescriptors:[]}},ce=({param:e={formatterDescriptors:[]},onParamChange:t})=>{const n=a(C,{onClick:r=>{const c=w+r.key;t==null||t({formatterDescriptors:[...e.formatterDescriptors,_[c].defaultKey]})},children:ne.map(r=>a(C.Item,{disabled:e.formatterDescriptors.some(c=>c.type===w+r),children:r},r))}),i=e.formatterDescriptors.map(r=>{const c=r.type,s=p=>{t==null||t({formatterDescriptors:e.formatterDescriptors.map(d=>d.type===c?f(m({},d),{param:p}):d)})};return l("div",{className:"GridEditor-FormatterRenderer",children:[a(D,{"aria-label":"remove formatter",icon:"x",onClick:()=>t==null?void 0:t({formatterDescriptors:e.formatterDescriptors.filter(p=>p.type!==c)})}),h.exports.createElement(_[c].editor,{param:r.param,onParamChange:s})]},c)});return l("div",{children:[l("div",{children:["Value Formatter",a(G,{overlay:n,children:a(D,{icon:"+"})})]}),i]})};const b="Grid.HeaderName",le={type:b,param:{headerName:"Custom"}},de=e=>{var t;return a("div",{children:l("label",{children:["Header",a("input",{value:(t=e.param)==null?void 0:t.headerName,onChange:o=>{var n;return(n=e.onParamChange)==null?void 0:n.call(e,{headerName:o.currentTarget.value})}})]})})},F="Grid.Sortable",se={type:F,param:{sortable:!0}},ue=e=>{var t;return a("div",{children:l("label",{children:["Sortable",a(q,{checked:(t=e.param)==null?void 0:t.sortable,onChange:o=>{var n;return(n=e.onParamChange)==null?void 0:n.call(e,{sortable:o})}})]})})},A={[v]:{defaultDescriptor:B,editor:te},[g]:{defaultDescriptor:ie,editor:ce},[b]:{defaultDescriptor:le,editor:de},[F]:{defaultDescriptor:se,editor:ue}},me=({colDescriptors:e,setColDescriptors:t})=>{const o=()=>{t(r=>[...r,[B]])},n=r=>{t(c=>{const s=c.slice();return s.splice(r,1),s})},i=e.map((r,c)=>{const p=a(C,{onClick:d=>{const u=d.key;t(E=>E.map((y,x)=>x===c&&!y.some(O=>O.type===u)?[...y,A[u].defaultDescriptor]:y))},children:Object.keys(A).map(d=>a(C.Item,{disabled:r.some(u=>u.type===d),children:d},d))});return l("div",{className:"ColDescriptorEditor-Column",children:[l("div",{className:"ColDescriptorEditor-ColumnHeader",children:[l("div",{children:["Column ",c+1]}),a(D,{icon:"x",onClick:()=>n(c)})]}),r.map((d,u)=>{const E=`column-${c}-editor-${u}`,y=O=>{t(k=>k.map((S,L)=>L===c?S.map((I,Y)=>Y===u?f(m({},I),{param:O}):I):S))},x=h.exports.createElement(A[d.type].editor,{key:E,param:d.param,onParamChange:y});return l("div",{className:"ColDescriptorEditor-ColumnRow",children:[a(D,{icon:"x"})," ",x]},`${E}-container`)}),a(G,{overlay:p,children:a(D,{children:"Add +"})})]},c)});return l("div",{children:[a(D,{onClick:o,children:"New Column"}),a("div",{className:"ColDescriptorEditor-Columns",children:i})]})};const fe=[{make:"Toyota",model:"Celica",price:35e3},{make:"Ford",model:"Mondeo",price:32e3},{make:"Porsche",model:"Boxter",price:72e3}],pe=e=>{const[t,o]=h.exports.useState('[{"make":"Toyota","model":"Celica","price":35000},{"make":"Ford","model":"Mondeo","price":32000},{"make":"Porsche","model":"Boxter","price":72000}]'),[n,i]=h.exports.useState(fe);return h.exports.useEffect(()=>{var c;(c=e.onDataChanged)==null||c.call(e,n)},[]),l("label",{className:"DataInput",children:["Input data JSON ",n===null?"ERROR":"OK",a("br",{}),a("textarea",{value:t,onChange:c=>{var p,d;const s=c.currentTarget.value;o(s);try{const u=JSON.parse(s);i(u),(p=e.onDataChanged)==null||p.call(e,u)}catch(u){console.error(u),i(null),(d=e.onDataChanged)==null||d.call(e,null)}},className:"DataInput-textarea"})]})};const he=(e,t)=>f(m({},e),{field:t.field}),ve=e=>t=>Number.parseFloat(t).toFixed(e.dp),De=()=>e=>Number.parseFloat(e)/1e3,ye=e=>t=>t.toString()+e.suffix,Ee={[T]:{converter:De},[N]:{converter:ve},[R]:{converter:ye}},Ce=(e,{formatterDescriptors:t})=>{const o=n=>{let i=n;for(let r=0;r<t.length;r++){const c=t[r].type;i=Ee[c].converter(t[r].param)(i)}return i};return f(m({},e),{valueFormatter:n=>o(n.value)})},Te=(e,t)=>f(m({},e),{headerName:t.headerName}),Ne=(e,t)=>f(m({},e),{sortable:t.sortable}),Re={[v]:{composer:he},[g]:{composer:Ce},[b]:{composer:Te},[F]:{composer:Ne}},ge=e=>{var o;const t=(o=e.colDescriptors)==null?void 0:o.map((n,i)=>{let r={};return n.map(c=>{r=Re[c.type].composer(r,c.param)}),r});return a("div",{className:"ag-theme-alpine",style:{flex:1},children:a(V,{columnDefs:t,rowData:e.rowData,reactUi:!0})})},be=e=>t=>Number.parseFloat(t).toFixed(e.dp),Fe=()=>e=>Number.parseFloat(e)/1e3,xe=e=>t=>t.toString()+e.suffix,Oe={[T]:{converter:Fe},[N]:{converter:be},[R]:{converter:xe}},_e=(e,t)=>f(m({},e),{title:t.field,dataIndex:t.field}),we=(e,{formatterDescriptors:t})=>{const o=n=>{let i=n;for(let r=0;r<t.length;r++){const c=t[r].type;i=Oe[c].converter(t[r].param)(i)}return i};return f(m({},e),{render:n=>o(n)})},Ae=(e,t)=>f(m({},e),{title:t.headerName}),Se=(e,t)=>(console.warn("Unsupported sortable"),e),Ie={[v]:{composer:_e},[g]:{composer:we},[b]:{composer:Ae},[F]:{composer:Se}},Pe=e=>{var o;const t=(o=e.colDescriptors)==null?void 0:o.map((n,i)=>{let r={};return n.map(c=>{r=Ie[c.type].composer(r,c.param)}),r});return a("div",{style:{flex:1},children:a(z,{columns:t,dataSource:(e.rowData||[]).map((n,i)=>f(m({},n),{key:i}))})})},Me=[[{type:v,param:{field:"make"}}],[{type:v,param:{field:"model"}}],[{type:v,param:{field:"price"}}]],$=["ag-grid","antd table"];function Ge(){const[e,t]=h.exports.useState([]),[o,n]=h.exports.useState(Me),[i,r]=h.exports.useState($[0]);return l("div",{className:"App",children:[l("div",{className:"LeftColumn",children:[a("div",{className:"LeftColumn-TopPanel",children:a(me,{colDescriptors:o,setColDescriptors:n})}),a("div",{className:"LeftColumn-BottomPanel",children:a(pe,{onDataChanged:t})})]}),l("div",{className:"RightColumn",children:[a("div",{className:"RightColumn-TopPanel",children:i==="ag-grid"?a(ge,{rowData:e,colDescriptors:o}):a(Pe,{rowData:e,colDescriptors:o})}),l("div",{className:"RightColumn-BottomPanel",children:[a(Q.Group,{"aria-label":"grid preview",options:$,onChange:s=>r(s.target.value),value:i}),a("div",{children:JSON.stringify(o)})]})]})]})}W.render(a(Z.StrictMode,{children:a(Ge,{})}),document.getElementById("root"));
