var U=Object.defineProperty,X=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var $=(e,t,a)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,m=(e,t)=>{for(var a in t||(t={}))q.call(t,a)&&$(e,a,t[a]);if(B)for(var a of B(t))z.call(t,a)&&$(e,a,t[a]);return e},f=(e,t)=>X(e,V(t));import{r as h,j as o,S as L,a as d,I as Q,M as F,B as y,D as Y,b as W,A as Z,T as ee,R as te,c as re,d as oe,e as ae}from"./vendor.3e168673.js";const ne=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function a(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerpolicy&&(r.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?r.credentials="include":c.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(c){if(c.ep)return;c.ep=!0;const r=a(c);fetch(c.href,r)}};ne();const K=h.exports.createContext([]),{Option:ie}=L,D="Grid.Field",H={type:D,param:{field:""}},ce=e=>{var c,r;const t=h.exports.useContext(K),a=(c=e.param)==null?void 0:c.field,i=t.length===0?o("input",{value:(r=e.param)==null?void 0:r.field,onChange:n=>{var l;return(l=e.onParamChange)==null?void 0:l.call(e,{field:n.currentTarget.value})}}):o(L,{value:a||void 0,onChange:n=>{var l;return(l=e.onParamChange)==null?void 0:l.call(e,{field:n})},showSearch:!0,style:{width:100},placeholder:"Search",children:t.map(n=>o(ie,{value:n,children:n},n))});return o("div",{children:d("label",{children:["Field",i]})})},N="Grid.ValueFormatter.DivideByThousand",le=()=>o("div",{children:"Divide by 1e3"}),b="Grid.ValueFormatter.FixedDecimalPlaces",de=e=>{var t;return o("div",{children:d("label",{children:["Decimal Places",o(Q,{value:(t=e.param)==null?void 0:t.dp,onChange:a=>{var i;return(i=e.onParamChange)==null?void 0:i.call(e,{dp:a})}})]})})},x="Grid.ValueFormatter.SuffixBy",se=e=>{var t;return o("div",{children:d("label",{children:["Suffix",o("input",{value:(t=e.param)==null?void 0:t.suffix,onChange:a=>{var i;return(i=e.onParamChange)==null?void 0:i.call(e,{suffix:a.currentTarget.value})}})]})})},P={[N]:{defaultKey:{type:N},editor:le},[b]:{defaultKey:{type:b,param:{dp:2}},editor:de},[x]:{defaultKey:{type:x,param:{suffix:" k"}},editor:se}},I="Grid.ValueFormatter.",ue=Object.keys(P).map(e=>e.replace(I,"")),w="Grid.ValueFormatter",me={type:w,param:{formatterDescriptors:[]}},fe=({param:e={formatterDescriptors:[]},onParamChange:t})=>{const i=o(F,{onClick:r=>{const n=I+r.key;t==null||t({formatterDescriptors:[...e.formatterDescriptors,P[n].defaultKey]})},children:ue.map(r=>o(F.Item,{disabled:e.formatterDescriptors.some(n=>n.type===I+r),children:r},r))}),c=e.formatterDescriptors.map(r=>{const n=r.type,l=u=>{t==null||t({formatterDescriptors:e.formatterDescriptors.map(p=>p.type===n?f(m({},p),{param:u}):p)})};return d("div",{className:"GridEditor-FormatterRenderer",children:[o(y,{"aria-label":"remove formatter",icon:"x",onClick:()=>t==null?void 0:t({formatterDescriptors:e.formatterDescriptors.filter(u=>u.type!==n)})}),h.exports.createElement(P[n].editor,{param:r.param,onParamChange:l})]},n)});return d("div",{children:[d("div",{children:["Value Formatter",o(Y,{overlay:i,children:o(y,{icon:"+"})})]}),c]})};const O="Grid.HeaderName",he={type:O,param:{headerName:"Custom"}},pe=e=>{var t;return o("div",{children:d("label",{children:["Header",o("input",{value:(t=e.param)==null?void 0:t.headerName,onChange:a=>{var i;return(i=e.onParamChange)==null?void 0:i.call(e,{headerName:a.currentTarget.value})}})]})})},S="Grid.Sortable",ve={type:S,param:{sortable:!0}},De=e=>{var t;return o("div",{children:d("label",{children:["Sortable",o(W,{checked:(t=e.param)==null?void 0:t.sortable,onChange:a=>{var i;return(i=e.onParamChange)==null?void 0:i.call(e,{sortable:a})}})]})})},M={[D]:{defaultDescriptor:H,editor:ce},[w]:{defaultDescriptor:me,editor:fe},[O]:{defaultDescriptor:he,editor:pe},[S]:{defaultDescriptor:ve,editor:De}},ye=({colDescriptors:e,setColDescriptors:t,dataFields:a})=>{const i=()=>{t(n=>[...n,[H]])},c=n=>{t(l=>{const u=l.slice();return u.splice(n,1),u})},r=e.map((n,l)=>{const p=o(F,{onClick:s=>{const v=s.key;t(E=>E.map((C,A)=>A===l&&!C.some(G=>G.type===v)?[...C,M[v].defaultDescriptor]:C))},children:Object.keys(M).map(s=>o(F.Item,{disabled:n.some(v=>v.type===s),children:s},s))});return d("div",{className:"ColDescriptorEditor-Column",children:[d("div",{className:"ColDescriptorEditor-ColumnHeader",children:[d("div",{children:["Column ",l+1]}),o(y,{icon:"x",onClick:()=>c(l)})]}),n.map((s,v)=>{const E=`column-${l}-editor-${v}`,C=_=>{t(T=>T.map((g,R)=>R===l?g.map((k,J)=>J===v?f(m({},k),{param:_}):k):g))},A=h.exports.createElement(M[s.type].editor,{key:E,param:s.param,onParamChange:C});return d("div",{className:"ColDescriptorEditor-ColumnRow",children:[o(y,{icon:"x",onClick:()=>{t(_=>_.map((T,g)=>{if(g===l){const R=T.slice();return R.splice(v,1),R}else return T}))},"aria-label":"remove composer"})," ",A]},`${E}-container`)}),o(Y,{overlay:p,children:o(y,{children:"Add +"})})]},l)});return o(K.Provider,{value:a,children:d("div",{children:[o(y,{onClick:i,children:"New Column"}),o("div",{className:"ColDescriptorEditor-Columns",children:r})]})})};const Ce=[{make:"Toyota",model:"Celica",price:35e3},{make:"Ford",model:"Mondeo",price:32e3},{make:"Porsche",model:"Boxter",price:72e3}],Ee=e=>{const[t,a]=h.exports.useState('[{"make":"Toyota","model":"Celica","price":35000},{"make":"Ford","model":"Mondeo","price":32000},{"make":"Porsche","model":"Boxter","price":72000}]'),[i,c]=h.exports.useState(Ce);return h.exports.useEffect(()=>{var n;(n=e.onDataChanged)==null||n.call(e,i)},[]),d("label",{className:"DataInput",children:["Input data JSON ",i===null?"ERROR":"OK",o("br",{}),o("textarea",{value:t,onChange:n=>{var u,p;const l=n.currentTarget.value;a(l);try{const s=JSON.parse(l);c(s),(u=e.onDataChanged)==null||u.call(e,s)}catch(s){console.error(s),c(null),(p=e.onDataChanged)==null||p.call(e,null)}},className:"DataInput-textarea"})]})};const Te=(e,t)=>f(m({},e),{field:t.field}),ge=e=>t=>Number.parseFloat(t).toFixed(e.dp),Re=()=>e=>Number.parseFloat(e)/1e3,Fe=e=>t=>t.toString()+e.suffix,Ne={[N]:{converter:Re},[b]:{converter:ge},[x]:{converter:Fe}},be=(e,{formatterDescriptors:t})=>{const a=i=>{let c=i;for(let r=0;r<t.length;r++){const n=t[r].type;c=Ne[n].converter(t[r].param)(c)}return c};return f(m({},e),{valueFormatter:i=>a(i.value)})},xe=(e,t)=>f(m({},e),{headerName:t.headerName}),we=(e,t)=>f(m({},e),{sortable:t.sortable}),Oe={[D]:{composer:Te},[w]:{composer:be},[O]:{composer:xe},[S]:{composer:we}},Se=e=>{var a;const t=(a=e.colDescriptors)==null?void 0:a.map((i,c)=>{let r={};return i.map(n=>{r=Oe[n.type].composer(r,n.param)}),r});return o("div",{className:"ag-theme-alpine",style:{flex:1},children:o(Z,{columnDefs:t,rowData:e.rowData,reactUi:!0})})},Ae=e=>t=>Number.parseFloat(t).toFixed(e.dp),_e=()=>e=>Number.parseFloat(e)/1e3,Pe=e=>t=>t.toString()+e.suffix,Ie={[N]:{converter:_e},[b]:{converter:Ae},[x]:{converter:Pe}},Me=(e,t)=>f(m({},e),{title:t.field,dataIndex:t.field}),Ge=(e,{formatterDescriptors:t})=>{const a=i=>{let c=i;for(let r=0;r<t.length;r++){const n=t[r].type;c=Ie[n].converter(t[r].param)(c)}return c};return f(m({},e),{render:i=>a(i)})},ke=(e,t)=>f(m({},e),{title:t.headerName}),Be=(e,t)=>(console.warn("Unsupported sortable"),e),$e={[D]:{composer:Me},[w]:{composer:Ge},[O]:{composer:ke},[S]:{composer:Be}},Le=e=>{var a;const t=(a=e.colDescriptors)==null?void 0:a.map((i,c)=>{let r={};return i.map(n=>{r=$e[n.type].composer(r,n.param)}),r});return o("div",{style:{flex:1},children:o(ee,{columns:t,dataSource:(e.rowData||[]).map((i,c)=>f(m({},i),{key:c}))})})},Ye=[[{type:D,param:{field:"make"}}],[{type:D,param:{field:"model"}}],[{type:D,param:{field:"price"}}]],j=["ag-grid","antd table"],Ke=e=>{const t=new Set;return e.forEach(a=>{Object.keys(a).forEach(i=>t.add(i))}),Array.from(t)};function He(){const[e,t]=h.exports.useState([]),[a,i]=h.exports.useState(Ye),[c,r]=h.exports.useState(j[0]),n=h.exports.useMemo(()=>Ke(e||[]),[e]);return d("div",{className:"App",children:[d("div",{className:"LeftColumn",children:[o("div",{className:"LeftColumn-TopPanel",children:o(ye,{colDescriptors:a,setColDescriptors:i,dataFields:n})}),o("div",{className:"LeftColumn-BottomPanel",children:o(Ee,{onDataChanged:t})})]}),d("div",{className:"RightColumn",children:[o("div",{className:"RightColumn-TopPanel",children:c==="ag-grid"?o(Se,{rowData:e,colDescriptors:a}):o(Le,{rowData:e,colDescriptors:a})}),d("div",{className:"RightColumn-BottomPanel",children:[o("label",{htmlFor:"grid-preview-radio-group-id",children:"Grid preview: "}),o(te.Group,{id:"grid-preview-radio-group-id",options:j,onChange:u=>r(u.target.value),value:c}),o("div",{children:"Debug Column Descriptors"}),o(re,{src:a})]})]})]})}oe.render(o(ae.StrictMode,{children:o(He,{})}),document.getElementById("root"));
