var L=Object.defineProperty,K=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var M=(e,t,a)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,m=(e,t)=>{for(var a in t||(t={}))H.call(t,a)&&M(e,a,t[a]);if(P)for(var a of P(t))j.call(t,a)&&M(e,a,t[a]);return e},f=(e,t)=>K(e,Y(t));import{j as c,a as d,M as T,B as y,r as h,D as S,A as J,T as X,R as U,b as q,c as V}from"./vendor.f1aaf79b.js";const z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}};z();const v="Grid.Field",G={type:v,param:{field:""}},Q=e=>{var t;return c("div",{children:d("label",{children:["Field",c("input",{value:(t=e.param)==null?void 0:t.field,onChange:a=>{var n;return(n=e.onParamChange)==null?void 0:n.call(e,{field:a.currentTarget.value})}})]})})},E="Grid.ValueFormatter.DivideByThousand",W=()=>c("div",{children:"Divide by 1e3"}),N="Grid.ValueFormatter.FixedDecimalPlaces",Z=e=>{var t;return c("div",{children:d("label",{children:["Decimal Places",c("input",{value:(t=e.param)==null?void 0:t.dp,type:"number",onChange:a=>{var n;return(n=e.onParamChange)==null?void 0:n.call(e,{dp:Number.parseInt(a.currentTarget.value)})}})]})})},C="Grid.ValueFormatter.SuffixBy",ee=e=>{var t;return c("div",{children:d("label",{children:["Suffix",c("input",{value:(t=e.param)==null?void 0:t.suffix,onChange:a=>{var n;return(n=e.onParamChange)==null?void 0:n.call(e,{suffix:a.currentTarget.value})}})]})})},_={[E]:{defaultKey:{type:E},editor:W},[N]:{defaultKey:{type:N,param:{dp:2}},editor:Z},[C]:{defaultKey:{type:C,param:{suffix:" k"}},editor:ee}},A="Grid.ValueFormatter.",te=Object.keys(_).map(e=>e.replace(A,"")),R="Grid.ValueFormatter",re={type:R,param:{formatterDescriptors:[]}},ae=({param:e={formatterDescriptors:[]},onParamChange:t})=>{const n=c(T,{onClick:r=>{const i=A+r.key;t==null||t({formatterDescriptors:[...e.formatterDescriptors,_[i].defaultKey]})},children:te.map(r=>c(T.Item,{disabled:e.formatterDescriptors.some(i=>i.type===A+r),children:r},r))}),o=e.formatterDescriptors.map(r=>{const i=r.type,s=p=>{t==null||t({formatterDescriptors:e.formatterDescriptors.map(l=>l.type===i?f(m({},l),{param:p}):l)})};return d("div",{className:"GridEditor-FormatterRenderer",children:[c(y,{"aria-label":"remove formatter",onClick:()=>t==null?void 0:t({formatterDescriptors:e.formatterDescriptors.filter(p=>p.type!==i)}),children:"X"}),h.exports.createElement(_[i].editor,{param:r.param,onParamChange:s})]},i)});return d("div",{children:[d("div",{children:["Value Formatter",c(S,{overlay:n,children:c(y,{children:"+"})})]}),o]})};const g="Grid.HeaderName",ne={type:g,param:{headerName:"Header Name"}},oe=e=>{var t;return c("div",{children:d("label",{children:["Header name",c("input",{value:(t=e.param)==null?void 0:t.headerName,onChange:a=>{var n;return(n=e.onParamChange)==null?void 0:n.call(e,{headerName:a.currentTarget.value})}})]})})},b={[v]:{defaultDescriptor:G,editor:Q},[R]:{defaultDescriptor:re,editor:ae},[g]:{defaultDescriptor:ne,editor:oe}},ie=({colDescriptors:e,setColDescriptors:t})=>{const a=()=>{t(r=>[...r,[G]])},n=r=>{t(i=>{const s=i.slice();return s.splice(r,1),s})},o=e.map((r,i)=>{const p=c(T,{onClick:l=>{const u=l.key;t(F=>F.map((D,x)=>x===i&&!D.some(O=>O.type===u)?[...D,b[u].defaultDescriptor]:D))},children:Object.keys(b).map(l=>c(T.Item,{disabled:r.some(u=>u.type===l),children:l},l))});return d("div",{children:[d("div",{children:["Column ",i+1,c(y,{onClick:()=>n(i),children:"X"})]}),r.map((l,u)=>{const F=`column-${i}-editor-${u}`,D=x=>{t(O=>O.map((w,k)=>k===i?w.map((I,$)=>$===u?f(m({},I),{param:x}):I):w))};return h.exports.createElement(b[l.type].editor,{key:F,param:l.param,onParamChange:D})}),c(S,{overlay:p,children:c(y,{children:"Add +"})})]},i)});return d("div",{className:"ColDefEditor",children:[o,c(y,{onClick:a,children:"New Column"})]})};const ce=[{make:"Toyota",model:"Celica",price:35e3},{make:"Ford",model:"Mondeo",price:32e3},{make:"Porsche",model:"Boxter",price:72e3}],le=e=>{const[t,a]=h.exports.useState('[{"make":"Toyota","model":"Celica","price":35000},{"make":"Ford","model":"Mondeo","price":32000},{"make":"Porsche","model":"Boxter","price":72000}]'),[n,o]=h.exports.useState(ce);return h.exports.useEffect(()=>{var i;(i=e.onDataChanged)==null||i.call(e,n)},[]),d("label",{className:"DataInput",children:["Input data JSON ",n===null?"ERROR":"OK",c("br",{}),c("textarea",{value:t,onChange:i=>{var p,l;const s=i.currentTarget.value;a(s);try{const u=JSON.parse(s);o(u),(p=e.onDataChanged)==null||p.call(e,u)}catch(u){console.error(u),o(null),(l=e.onDataChanged)==null||l.call(e,null)}},className:"DataInput-textarea"})]})};const de=(e,t)=>f(m({},e),{field:t.field}),se=e=>t=>Number.parseFloat(t).toFixed(e.dp),ue=()=>e=>Number.parseFloat(e)/1e3,me=e=>t=>t.toString()+e.suffix,fe={[E]:{converter:ue},[N]:{converter:se},[C]:{converter:me}},pe=(e,{formatterDescriptors:t})=>{const a=n=>{let o=n;for(let r=0;r<t.length;r++){const i=t[r].type;o=fe[i].converter(t[r].param)(o)}return o};return f(m({},e),{valueFormatter:n=>a(n.value)})},he=(e,t)=>f(m({},e),{headerName:t.headerName}),ve={[v]:{composer:de},[R]:{composer:pe},[g]:{composer:he}},De=e=>{var a;const t=(a=e.colDescriptors)==null?void 0:a.map((n,o)=>{let r={};return n.map(i=>{r=ve[i.type].composer(r,i.param)}),r});return c("div",{className:"ag-theme-alpine",style:{flex:1},children:c(J,{columnDefs:t,rowData:e.rowData,reactUi:!0})})},ye=e=>t=>Number.parseFloat(t).toFixed(e.dp),Te=()=>e=>Number.parseFloat(e)/1e3,Ee=e=>t=>t.toString()+e.suffix,Ne={[E]:{converter:Te},[N]:{converter:ye},[C]:{converter:Ee}},Ce=(e,t)=>f(m({},e),{title:t.field,dataIndex:t.field}),Re=(e,{formatterDescriptors:t})=>{const a=n=>{let o=n;for(let r=0;r<t.length;r++){const i=t[r].type;o=Ne[i].converter(t[r].param)(o)}return o};return f(m({},e),{render:n=>a(n)})},ge=(e,t)=>f(m({},e),{title:t.headerName}),Fe={[v]:{composer:Ce},[R]:{composer:Re},[g]:{composer:ge}},xe=e=>{var a;const t=(a=e.colDescriptors)==null?void 0:a.map((n,o)=>{let r={};return n.map(i=>{r=Fe[i.type].composer(r,i.param)}),r});return c("div",{style:{flex:1},children:c(X,{columns:t,dataSource:(e.rowData||[]).map((n,o)=>f(m({},n),{key:o}))})})},Oe=[[{type:v,param:{field:"make"}}],[{type:v,param:{field:"model"}}],[{type:v,param:{field:"price"}}]],B=["ag-grid","antd table"];function _e(){const[e,t]=h.exports.useState([]),[a,n]=h.exports.useState(Oe),[o,r]=h.exports.useState(B[0]);return d("div",{className:"App",children:[d("div",{className:"LeftColumn",children:[c("div",{className:"LeftColumn-TopPanel",children:c(ie,{colDescriptors:a,setColDescriptors:n})}),c("div",{className:"LeftColumn-BottomPanel",children:c(le,{onDataChanged:t})})]}),d("div",{className:"RightColumn",children:[c("div",{className:"RightColumn-TopPanel",children:o==="ag-grid"?c(De,{rowData:e,colDescriptors:a}):c(xe,{rowData:e,colDescriptors:a})}),d("div",{className:"RightColumn-BottomPanel",children:[c(U.Group,{"aria-label":"grid preview",options:B,onChange:s=>r(s.target.value),value:o}),c("div",{children:JSON.stringify(a)})]})]})]})}q.render(c(V.StrictMode,{children:c(_e,{})}),document.getElementById("root"));
